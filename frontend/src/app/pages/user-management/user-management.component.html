<form #registerForm="ngForm" (ngSubmit)="onSubmit()" class="form-container">
    <div class="card flex justify-content-center">
        <div class="dialog-backdrop" style=" border: 1px #484848 solid; border-radius: 7px;">
            <div class="flex flex-column px-8 py-5 gap-4 form-content" style="border-radius: 5px; background-color: #252525;">
                <div class="p-grid p-dir-col p-jc-center p-ai-center">
                    <img src="assets/Logos/vistaqs-logo-min.png" alt="VistaQs Logo" width="44px"
                        style="display: block; margin: 0 auto;" />
                </div>
                <div class="spacer"></div>
                <div class="user-info flex flex-row gap-2">
                    <div class="inline-flex flex-column gap-2">
                        <label for="name" class="text-primary-50 font-semibold">Name</label>
                        <input pInputText [(ngModel)]="userPayload.name" id="reg-name" type="text" name="name"
                            class="bg-white-alpha-20 border-none p-3 text-primary-50" />
                    </div>
                    <div class="inline-flex flex-column gap-2">
                        <label for="email" class="text-primary-50 font-semibold">Email</label>
                        <input pInputText [(ngModel)]="userPayload.email" id="reg-email" type="email" name="email"
                            class="bg-white-alpha-20 border-none p-3 text-primary-50" />
                    </div>
                    <div class="inline-flex flex-column gap-2">
                        <label for="city" class="text-primary-50 font-semibold">City</label>
                        <input pInputText [(ngModel)]="userPayload.city" id="reg-city" type="text" name="city"
                            class="bg-white-alpha-20 border-none p-3 text-primary-50" autocomplete="new-city" />
                    </div>
                </div>
                <div class="password-info flex flex-row gap-2">
                    <div class="inline-flex flex-column gap-2">
                        <label for="password" class="text-primary-50 font-semibold">Password</label>
                        <p-password [(ngModel)]="userPayload.password" id="reg-password" inputStyleClass="bg-white-alpha-20 border-none p-3 text-primary-50" name="password" autocomplete="new-password"></p-password>
                    </div>
                    <div class="inline-flex flex-column gap-2">
                        <label for="password_confirmation" class="text-primary-50 font-semibold">Confirm Password</label>
                        <p-password [(ngModel)]="userPayload.password_confirmation" id="reg-password-confirmation" 
                        name="password_confirmation" inputStyleClass="bg-white-alpha-20 border-none p-3 text-primary-50" [feedback]="false" autocomplete="new-password"></p-password>
                    </div>
                </div>
                <div class="flex align-items-center gap-2">
                    <p-button label="Register" [text]="true"
                        styleClass="w-full text-primary-50 border-1 border-white-alpha-30 hover:bg-white-alpha-10"
                        class="w-full" (onClick)="onSubmit()"></p-button>
                    <p-button label="Go Back" [text]="true"
                        styleClass="w-full text-primary-50 border-1 border-white-alpha-30 hover:bg-white-alpha-10"
                        class="w-full" routerLink="/dashboard"></p-button>
                </div>
            </div>
        </div>
    </div>
</form>
<p-toast></p-toast>

<div class="spinner-container" *ngIf="isLoading">
    <p-progressSpinner styleClass="w-4rem h-4rem" strokeWidth="8" fill="var(--surface-ground)"
        animationDuration=".5s"></p-progressSpinner>
</div>